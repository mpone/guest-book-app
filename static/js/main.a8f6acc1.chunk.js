(this["webpackJsonpguest-book-app"]=this["webpackJsonpguest-book-app"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(19)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),c=a.n(s),l=a(1),m=a.n(l),o=a(2),u=a(3),i=(a(13),a(14),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"My guest book"))}),f=(a(15),function(e){var t=e.addMessageToServer,a=Object(n.useState)(""),s=Object(u.a)(a,2),c=s[0],l=s[1],m=Object(n.useState)(""),o=Object(u.a)(m,2),i=o[0],f=o[1],p=Object(n.useState)({noName:!1,noText:!1}),E=Object(u.a)(p,2),d=E[0],v=E[1];return r.a.createElement("article",{className:"message-form"},r.a.createElement("form",{className:"message-form form",onSubmit:function(e){return function(e){e.preventDefault(),c.trim()||i.trim()?c.trim()?i.trim()?(t(i,c),l(""),f("")):v({noText:!0}):v({noName:!0}):v({noName:!0,noText:!0})}(e)}},r.a.createElement("article",{className:"form__inputs"},d.noName&&!d.noText&&r.a.createElement("span",{className:"form__error"},"Please enter your name"),d.noText&&!d.noName&&r.a.createElement("span",{className:"form__error"},"Please enter your message"),d.noName&&d.noText&&r.a.createElement("span",{className:"form__error"},"Please enter your name and message"),r.a.createElement("input",{className:"form__name",type:"text",placeholder:"Your name",value:c,onChange:function(e){var t=e.target;l(t.value),v({noName:!1})}}),r.a.createElement("textarea",{className:"form__text",placeholder:"Message",rows:"3",maxLength:"1000",value:i,onChange:function(e){var t=e.target;f(t.value),v({noText:!1})}})),r.a.createElement("button",{className:"form__button",type:"submit"},"Add",r.a.createElement("br",null),"comment")))}),p=(a(16),a(6)),E=a.n(p),d=(a(18),function(){return r.a.createElement("article",{className:"spinner"},r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),v=function(e){var t=e.list,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){a.current.scrollIntoView({behavior:"smooth"})}),[t]),r.a.createElement("article",{className:"messages"},0===t.length&&r.a.createElement(d,null),r.a.createElement("ul",{className:"messages__list"},t.map((function(e){return r.a.createElement("li",{key:e.messageId,className:"messages__item"},r.a.createElement("span",{className:"messages__text"},e.text),r.a.createElement("span",{className:"messages__name"},"From ".concat(e.name)),e.date&&r.a.createElement("span",{className:"messages__date"},E()(e.date).format("MMM Do, h:mm A")))})),r.a.createElement("span",{ref:a})))};v.defaultProps={list:[]};var h="".concat("http://localhost:5000/api","/messages"),b=function(){var e=Object(o.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h,{method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({text:t,name:a})});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var g=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],c=function(){var e=Object(o.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return t=e.sent,e.abrupt("return",s(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return c()}),[]);var l=function(){var e=Object(o.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,a);case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("section",{className:"content"},r.a.createElement(i,null),r.a.createElement("main",{className:"main"},r.a.createElement(v,{list:a}),r.a.createElement(f,{addMessageToServer:l}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.a8f6acc1.chunk.js.map